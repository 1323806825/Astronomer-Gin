# Astronomer-Gin æœªä½¿ç”¨æ¥å£æ¸…å•ä¸ä¼ä¸šçº§å‰ç«¯æ”¹è¿›æ–¹æ¡ˆ

> ç”Ÿæˆæ—¶é—´ï¼š2025-12-23
> åç«¯æ¥å£æ€»æ•°ï¼š110+
> å‰ç«¯å·²ä½¿ç”¨ï¼š70ä¸ª
> æœªä½¿ç”¨æ¥å£ï¼š40+ä¸ª

---

## ğŸ“Š æ‰§è¡Œæ‘˜è¦

### å½“å‰çŠ¶æ€
- âœ… **æ ¸å¿ƒåŠŸèƒ½å®Œå¤‡**ï¼šæ–‡ç« ã€è¯„è®ºã€ç”¨æˆ·ç³»ç»Ÿå·²å®ç°
- âš ï¸ **åŠŸèƒ½è¦†ç›–ç‡**ï¼š63.6% (70/110)
- ğŸ¯ **å¾…å¼€å‘åŠŸèƒ½**ï¼šé€šçŸ¥ç³»ç»Ÿã€ç§ä¿¡èŠå¤©ã€æ”¶è—ç®¡ç†ã€çƒ­é—¨æ¦œå•

### æ ¸å¿ƒé—®é¢˜
1. **åŠŸèƒ½å­¤å²›**ï¼š40+ä¸ªåç«¯æ¥å£æœªè¢«å‰ç«¯ä½¿ç”¨
2. **ç”¨æˆ·ä½“éªŒä¸å®Œæ•´**ï¼šç¼ºå°‘é€šçŸ¥ã€ç§ä¿¡ç­‰æ ¸å¿ƒç¤¾äº¤åŠŸèƒ½
3. **å†…å®¹ç»„ç»‡è–„å¼±**ï¼šæ”¶è—ã€æ¦œå•åŠŸèƒ½ç¼ºå¤±
4. **äº¤äº’æ·±åº¦ä¸è¶³**ï¼šè¯„è®ºé«˜çº§åŠŸèƒ½ï¼ˆä¸¾æŠ¥ã€ç®¡ç†ï¼‰æœªå®ç°

---

## ğŸ“‹ ç¬¬ä¸€éƒ¨åˆ†ï¼šæœªä½¿ç”¨æ¥å£è¯¦ç»†æ¸…å•

### 1. é€šçŸ¥ç³»ç»Ÿæ¥å£ â­â­â­ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

| æ¥å£ | æ–¹æ³• | åŠŸèƒ½ | ä¸šåŠ¡ä»·å€¼ |
|------|------|------|----------|
| `/api/v1/notifications` | GET | è·å–é€šçŸ¥åˆ—è¡¨ | ç”¨æˆ·ç•™å­˜çš„å…³é”® |
| `/api/v1/notifications/unread` | GET | æœªè¯»é€šçŸ¥æ•°é‡ | æå‡ç”¨æˆ·æ´»è·ƒåº¦ |
| `/api/v1/notifications/:id/read` | PUT | æ ‡è®°é€šçŸ¥å·²è¯» | ç”¨æˆ·ä½“éªŒä¼˜åŒ– |
| `/api/v1/notifications/read-all` | PUT | å…¨éƒ¨æ ‡è®°å·²è¯» | æ‰¹é‡æ“ä½œæ•ˆç‡ |
| `/api/v1/notifications/:id` | DELETE | åˆ é™¤é€šçŸ¥ | ç”¨æˆ·æ§åˆ¶æƒ |

**ç¼ºå¤±å½±å“**ï¼š
- âŒ ç”¨æˆ·æ— æ³•åŠæ—¶çŸ¥é“è¢«ç‚¹èµã€è¯„è®ºã€å…³æ³¨
- âŒ ç¼ºå°‘äº’åŠ¨åé¦ˆå¾ªç¯
- âŒ ç”¨æˆ·ç•™å­˜ç‡é™ä½

---

### 2. ç§ä¿¡/èŠå¤©åŠŸèƒ½ â­â­â­ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

| æ¥å£ | æ–¹æ³• | åŠŸèƒ½ | ä¸šåŠ¡ä»·å€¼ |
|------|------|------|----------|
| `/api/v1/chat/send` | POST | å‘é€ç§ä¿¡ | ç¤¾äº¤æ·±åº¦æå‡ |
| `/api/v1/chat/history/:id` | GET | èŠå¤©ï¿½ï¿½ï¿½å½• | ç”¨æˆ·å…³ç³»ç»´æŠ¤ |
| `/api/v1/chat/sessions` | GET | ä¼šè¯åˆ—è¡¨ | ç¤¾äº¤ç®¡ç† |
| `/api/v1/chat/unread` | GET | æœªè¯»æ¶ˆæ¯æ•° | å®æ—¶äº’åŠ¨ |
| `/api/v1/chat/read/:id` | PUT | æ ‡è®°å·²è¯» | æ¶ˆæ¯ç®¡ç† |
| `/api/v1/chat/message/:id` | DELETE | åˆ é™¤æ¶ˆæ¯ | ç”¨æˆ·æ§åˆ¶ |
| `/api/v1/chat/conversation/:id` | DELETE | åˆ é™¤ä¼šè¯ | éšç§ä¿æŠ¤ |
| `/api/v1/ws/chat` | WebSocket | å®æ—¶èŠå¤© | å³æ—¶é€šè®¯ |

**ç¼ºå¤±å½±å“**ï¼š
- âŒ æ— æ³•è¿›è¡Œä¸€å¯¹ä¸€æ·±åº¦äº¤æµ
- âŒ å¥½å‹åŠŸèƒ½å½¢åŒè™šè®¾
- âŒ ç¤¾äº¤ç½‘ç»œæ•ˆåº”æ— æ³•å»ºç«‹

---

### 3. æ”¶è—ç®¡ç†åŠŸèƒ½ â­â­ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

| æ¥å£ | æ–¹æ³• | åŠŸèƒ½ | ä¸šåŠ¡ä»·å€¼ |
|------|------|------|----------|
| `/api/v1/blog/:id/favorite` | POST | æ”¶è—æ–‡ç«  | å†…å®¹æ²‰æ·€ |
| `/api/v1/blog/:id/favorite` | DELETE | å–æ¶ˆæ”¶è— | ç”¨æˆ·æ§åˆ¶ |
| `/api/v1/blog/:id/favorited` | GET | æ£€æŸ¥æ”¶è—çŠ¶æ€ | çŠ¶æ€åŒæ­¥ |
| `/api/v1/user/favorites` | GET | ç”¨æˆ·æ”¶è—åˆ—è¡¨ | ä¸ªäººå†…å®¹åº“ |

**ç¼ºå¤±å½±å“**ï¼š
- âŒ ç”¨æˆ·æ— æ³•ä¿å­˜å–œæ¬¢çš„å†…å®¹
- âŒ ç¼ºå°‘å†…å®¹äºŒæ¬¡æ¶ˆè´¹åœºæ™¯
- âŒ ç”¨æˆ·ç²˜æ€§ï¿½ï¿½ï¿½ä½

**æ³¨æ„**ï¼šV3æ¥å£ä¸­æœ‰ `articleAPI.favorite/unfavorite`ï¼Œä½†å¯èƒ½æœªå®Œå…¨å®ç°

---

### 4. å¥½å‹ä¸æ‹‰é»‘åŠŸèƒ½ â­â­ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

| æ¥å£ | æ–¹æ³• | åŠŸèƒ½ | ä¸šåŠ¡ä»·å€¼ |
|------|------|------|----------|
| `/api/v1/user/friends` | GET | å¥½å‹åˆ—è¡¨ï¼ˆäº’å…³ï¼‰ | ç¤¾äº¤å…³ç³» |
| `/api/v1/user/:id/is-friend` | GET | æ£€æŸ¥å¥½å‹çŠ¶æ€ | æƒé™åˆ¤æ–­ |
| `/api/v1/user/friends/count` | GET | å¥½å‹æ•°é‡ | ç¤¾äº¤æ•°æ® |
| `/api/v1/user/:id/block` | POST | æ‹‰é»‘ç”¨æˆ· | å®‰å…¨ä¿æŠ¤ |
| `/api/v1/user/:id/block` | DELETE | å–æ¶ˆæ‹‰é»‘ | ç”¨æˆ·æ§åˆ¶ |
| `/api/v1/user/blocked` | GET | æ‹‰é»‘åˆ—è¡¨ | é»‘åå•ç®¡ç† |

**ç¼ºå¤±å½±å“**ï¼š
- âŒ æ— æ³•åŒºåˆ†æ™®é€šå…³æ³¨å’Œå¥½å‹
- âŒ ç¼ºå°‘éªšæ‰°ç”¨æˆ·çš„é˜²æŠ¤æœºåˆ¶
- âŒ ç§ä¿¡åŠŸèƒ½ç¼ºå°‘æƒé™æ§åˆ¶åŸºç¡€

---

### 5. çƒ­é—¨æ¦œå•ä¸æ¨è â­â­ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

| æ¥å£ | æ–¹æ³• | åŠŸèƒ½ | ä¸šåŠ¡ä»·å€¼ |
|------|------|------|----------|
| `/api/v1/trending/articles` | GET | çƒ­é—¨æ–‡ç« æ¦œ | å†…å®¹å‘ç° |
| `/api/v1/trending/users` | GET | çƒ­é—¨ç”¨æˆ·æ¦œ | ï¿½ï¿½ä½œè€…æ¨è |
| `/api/v1/trending/refresh` | POST | åˆ·æ–°æ¦œå• | è¿è¥å·¥å…· |

**ç¼ºå¤±å½±å“**ï¼š
- âŒ æ–°ç”¨æˆ·ç¼ºå°‘ä¼˜è´¨å†…å®¹å¼•å¯¼
- âŒ å†…å®¹å†·å¯åŠ¨å›°éš¾
- âŒ åˆ›ä½œè€…æ¿€åŠ±æœºåˆ¶ç¼ºå¤±

---

### 6. æ–‡ä»¶ä¸Šä¼ è¿›é˜¶åŠŸèƒ½ â­ï¼ˆä½ä¼˜å…ˆçº§ï¼‰

| æ¥å£ | æ–¹æ³• | åŠŸèƒ½ | ä¸šåŠ¡ä»·å€¼ |
|------|------|------|----------|
| `/api/v1/upload/file` | POST | ä¸Šä¼ é€šç”¨æ–‡ä»¶ | å¯Œåª’ä½“æ”¯æŒ |
| `/api/v1/upload/multiple` | POST | æ‰¹é‡ä¸Šä¼  | æ•ˆç‡æå‡ |
| `/api/v1/upload/delete` | DELETE | åˆ é™¤æ–‡ä»¶ | èµ„æºç®¡ç† |

**å½“å‰çŠ¶æ€**ï¼šä»…å®ç°äº† `uploadImage`

---

### 7. è¯„è®ºç³»ç»Ÿé«˜çº§åŠŸèƒ½ â­ï¼ˆä½ä¼˜å…ˆçº§ï¼‰

#### 7.1 ä¸¾æŠ¥ä¸å®¡æ ¸
| æ¥å£ | æ–¹æ³• | åŠŸèƒ½ | ä¸šåŠ¡ä»·å€¼ |
|------|------|------|----------|
| `/api/v3/comments/:id/report` | POST | ä¸¾æŠ¥è¯„è®º | å†…å®¹å®‰å…¨ |
| `/api/v3/reports/pending` | GET | å¾…å®¡æ ¸ä¸¾æŠ¥ | ç®¡ç†å·¥å…· |
| `/api/v3/reports/:id/handle` | POST | å¤„ç†ä¸¾æŠ¥ | å†…å®¹å®¡æ ¸ |

#### 7.2 UPä¸»åŠŸèƒ½
| æ¥å£ | æ–¹æ³• | åŠŸèƒ½ | ä¸šåŠ¡ä»·å€¼ |
|------|------|------|----------|
| `/api/v3/comments/:id/author-reply` | POST | UPä¸»è¿½è¯„ | ä½œè€…äº’åŠ¨ |
| `/api/v3/comments/:id/pin` | POST | ç½®é¡¶è¯„è®º | å†…å®¹ç®¡ç† |
| `/api/v3/comments/:id/unpin` | DELETE | å–æ¶ˆç½®é¡¶ | çµæ´»æ§åˆ¶ |
| `/api/v3/comments/:id/feature` | POST | ç²¾é€‰è¯„è®º | ä¼˜è´¨å†…å®¹ |
| `/api/v3/comments/:id/unfeature` | DELETE | å–æ¶ˆç²¾é€‰ | çµæ´»æ§åˆ¶ |

#### 7.3 ç®¡ç†åŠŸèƒ½
| æ¥å£ | æ–¹æ³• | åŠŸèƒ½ | ä¸šåŠ¡ä»·å€¼ |
|------|------|------|----------|
| `/api/v3/comments/batch-delete` | POST | æ‰¹é‡åˆ é™¤ | ç®¡ç†æ•ˆç‡ |
| `/api/v3/comments/batch-fold` | POST | æ‰¹é‡æŠ˜å  | å†…å®¹æ²»ç† |
| `/api/v3/sensitive-words` | GET | æ•æ„Ÿè¯åˆ—è¡¨ | å†…å®¹å®‰å…¨ |
| `/api/v3/sensitive-words` | POST | æ·»åŠ æ•æ„Ÿè¯ | å®¡æ ¸å·¥å…· |

---

### 8. V1æ—§ç‰ˆæ¥å£ï¼ˆå¾…åºŸå¼ƒï¼‰âš ï¸

æ‰€æœ‰ `/api/v1/blog/*` å’Œ `/api/v1/comment/*` æ¥å£å·²è¢«V3æ›¿ä»£ï¼Œå»ºè®®ï¼š
- å‰ç«¯å·²å®Œå…¨è¿ç§»åˆ°V3
- åç«¯å¯ä»¥è€ƒè™‘æ ‡è®°ä¸ºdeprecated
- è®¡åˆ’åœ¨æœªæ¥ç‰ˆæœ¬ä¸­ç§»é™¤

---

## ğŸ¯ ç¬¬äºŒéƒ¨åˆ†ï¼šä¼ä¸šçº§å‰ç«¯æ”¹è¿›æ–¹æ¡ˆ

### æ”¹è¿›ç­–ç•¥æ€»è§ˆ

```
é˜¶æ®µä¸€ï¼ˆæ ¸å¿ƒè¡¥å…¨ï¼‰â†’ é˜¶æ®µäºŒï¼ˆä½“éªŒæå‡ï¼‰â†’ é˜¶æ®µä¸‰ï¼ˆç”Ÿæ€å»ºè®¾ï¼‰
     1-2ä¸ªæœˆ            2-3ä¸ªæœˆ            æŒç»­ä¼˜åŒ–
```

---

## ğŸš€ é˜¶æ®µä¸€ï¼šæ ¸å¿ƒåŠŸèƒ½è¡¥å…¨ï¼ˆ1-2ä¸ªæœˆï¼‰

### ä¼˜å…ˆçº§P0ï¼šå¿…é¡»å®ç°çš„åŠŸèƒ½

#### 1.1 é€šçŸ¥ç³»ç»Ÿï¼ˆ1å‘¨ï¼‰â­â­â­

**ç›®æ ‡**ï¼šè®©ç”¨æˆ·åŠæ—¶è·çŸ¥äº’åŠ¨åé¦ˆ

**åŠŸèƒ½æ¸…å•**ï¼š
- [ ] é€šçŸ¥ä¸­å¿ƒé¡µé¢
  - é€šçŸ¥åˆ—è¡¨ï¼ˆç‚¹èµã€è¯„è®ºã€å…³æ³¨ã€ç³»ç»Ÿé€šçŸ¥ï¼‰
  - æœªè¯»çº¢ç‚¹æç¤º
  - ä¸€é”®å·²è¯»
  - é€šçŸ¥ç­›é€‰ï¼ˆæŒ‰ç±»å‹ï¼‰

- [ ] å…¨å±€é€šçŸ¥ç»„ä»¶
  - Headerå³ä¸Šè§’é€šçŸ¥å›¾æ ‡
  - æœªè¯»æ•°é‡Badge
  - ä¸‹æ‹‰é€šçŸ¥åˆ—è¡¨ï¼ˆæœ€è¿‘10æ¡ï¼‰
  - æŸ¥çœ‹æ›´å¤šè·³è½¬

**æŠ€æœ¯å®ç°**ï¼š
```typescript
// src/api/notification.ts
export const notificationAPI = {
  getList: (page: number, pageSize: number) =>
    request.get('/notifications', { params: { page, pageSize } }),

  getUnreadCount: () =>
    request.get('/notifications/unread'),

  markRead: (id: number) =>
    request.put(`/notifications/${id}/read`),

  markAllRead: () =>
    request.put('/notifications/read-all'),

  delete: (id: number) =>
    request.delete(`/notifications/${id}`)
}
```

**UIç»„ä»¶è®¾è®¡**ï¼š
```
NotificationCenter.vue          # é€šçŸ¥ä¸­å¿ƒé¡µé¢
  â”œâ”€â”€ NotificationList.vue      # é€šçŸ¥åˆ—è¡¨
  â”œâ”€â”€ NotificationItem.vue      # å•æ¡é€šçŸ¥
  â””â”€â”€ NotificationFilters.vue   # ç­›é€‰å™¨

Header.vue å¢å¼º
  â””â”€â”€ NotificationDropdown.vue  # é€šçŸ¥ä¸‹æ‹‰ç»„ä»¶
```

**è½®è¯¢ç­–ç•¥**ï¼š
- ç™»å½•çŠ¶æ€ä¸‹æ¯30ç§’è½®è¯¢ä¸€æ¬¡æœªè¯»æ•°
- ä½¿ç”¨ `setInterval` + ç»„ä»¶æŒ‚è½½/å¸è½½ç®¡ç†
- è€ƒè™‘åæœŸå‡çº§ä¸ºWebSocketæ¨é€

---

#### 1.2 æ”¶è—åŠŸèƒ½ï¼ˆ3å¤©ï¼‰â­â­

**ç›®æ ‡**ï¼šè®©ç”¨æˆ·å¯ä»¥ä¿å­˜å’Œç®¡ç†å–œæ¬¢çš„å†…å®¹

**åŠŸèƒ½æ¸…å•**ï¼š
- [ ] æ–‡ç« è¯¦æƒ…é¡µæ”¶è—æŒ‰é’®
- [ ] ç”¨æˆ·ä¸­å¿ƒ - æˆ‘çš„æ”¶è—é¡µé¢
- [ ] æ”¶è—åˆ—è¡¨å±•ç¤ºï¼ˆç€‘å¸ƒæµå¸ƒå±€ï¼‰
- [ ] å–æ¶ˆæ”¶è—åŠŸèƒ½
- [ ] æ”¶è—æ•°é‡ç»Ÿè®¡

**æŠ€æœ¯å®ç°**ï¼š
```typescript
// src/api/favorite.ts
export const favoriteAPI = {
  add: (articleId: number) =>
    request.post(`/articles/${articleId}/favorite`),

  remove: (articleId: number) =>
    request.delete(`/articles/${articleId}/favorite`),

  checkStatus: (articleId: number) =>
    request.get(`/articles/${articleId}/favorited`),

  getList: (page: number, pageSize: number) =>
    request.get('/user/favorites', { params: { page, pageSize } })
}
```

**çŠ¶æ€ç®¡ç†**ï¼š
```typescript
// stores/favorite.ts
export const useFavoriteStore = defineStore('favorite', {
  state: () => ({
    favoriteArticles: new Set<number>()  // å·²æ”¶è—æ–‡ç« IDé›†åˆ
  }),
  actions: {
    async toggleFavorite(articleId: number) {
      if (this.favoriteArticles.has(articleId)) {
        await favoriteAPI.remove(articleId)
        this.favoriteArticles.delete(articleId)
      } else {
        await favoriteAPI.add(articleId)
        this.favoriteArticles.add(articleId)
      }
    }
  }
})
```

---

#### 1.3 å¥½å‹ç³»ç»Ÿï¼ˆ2å¤©ï¼‰â­â­

**ç›®æ ‡**ï¼šåŒºåˆ†æ™®é€šå…³æ³¨å’Œäº’å…³å¥½å‹ï¼Œä¸ºç§ä¿¡åŠŸèƒ½æ‰“åŸºç¡€

**åŠŸèƒ½æ¸…å•**ï¼š
- [ ] ç”¨æˆ·Profileæ˜¾ç¤ºå¥½å‹çŠ¶æ€
- [ ] å¥½å‹åˆ—è¡¨é¡µé¢
- [ ] å¥½å‹æ•°é‡ç»Ÿè®¡
- [ ] äº’å…³å¾½ç« æ˜¾ç¤º

**æŠ€æœ¯å®ç°**ï¼š
```typescript
// src/api/friend.ts
export const friendAPI = {
  getList: (page: number) =>
    request.get('/user/friends', { params: { page } }),

  checkFriend: (userId: string) =>
    request.get(`/user/${userId}/is-friend`),

  getCount: () =>
    request.get('/user/friends/count')
}
```

**UIå¢å¼º**ï¼š
```vue
<!-- UserProfile.vue ä¸­ -->
<div class="user-stats">
  <div class="stat-item">
    <span class="count">{{ stats.followingCount }}</span>
    <span class="label">å…³æ³¨</span>
  </div>
  <div class="stat-item">
    <span class="count">{{ stats.followerCount }}</span>
    <span class="label">ç²‰ä¸</span>
  </div>
  <div class="stat-item">
    <span class="count">{{ stats.friendCount }}</span>
    <span class="label">å¥½å‹</span>
  </div>
</div>

<!-- äº’å…³å¥½å‹å¾½ç«  -->
<el-tag v-if="isFriend" type="success" size="small">
  <el-icon><Check /></el-icon> äº’ç›¸å…³æ³¨
</el-tag>
```

---

### ä¼˜å…ˆçº§P1ï¼šé‡è¦åŠŸèƒ½

#### 1.4 ç§ä¿¡èŠå¤©ç³»ç»Ÿï¼ˆ1å‘¨ï¼‰â­â­â­

**ç›®æ ‡**ï¼šå®ç°ç”¨æˆ·é—´ä¸€å¯¹ä¸€å®æ—¶é€šä¿¡

**åŠŸèƒ½æ¸…å•**ï¼š
- [ ] ç§ä¿¡å…¥å£ï¼ˆç”¨æˆ·Profileï¼‰
- [ ] èŠå¤©çª—å£
- [ ] ä¼šè¯åˆ—è¡¨
- [ ] æ¶ˆæ¯æœªè¯»æç¤º
- [ ] æ¶ˆæ¯å‘é€/æ¥æ”¶
- [ ] WebSocketå®æ—¶é€šè®¯

**æŠ€æœ¯æ¶æ„**ï¼š

```typescript
// src/api/chat.ts
export const chatAPI = {
  send: (toUserId: string, content: string) =>
    request.post('/chat/send', { toUserId, content }),

  getHistory: (userId: string, page: number) =>
    request.get(`/chat/history/${userId}`, { params: { page } }),

  getSessions: () =>
    request.get('/chat/sessions'),

  getUnreadCount: () =>
    request.get('/chat/unread'),

  markRead: (userId: string) =>
    request.put(`/chat/read/${userId}`),

  deleteMessage: (messageId: number) =>
    request.delete(`/chat/message/${messageId}`),

  deleteConversation: (userId: string) =>
    request.delete(`/chat/conversation/${userId}`)
}

// src/utils/websocket.ts
export class ChatWebSocket {
  private ws: WebSocket | null = null
  private reconnectTimer: number | null = null
  private heartbeatTimer: number | null = null

  connect(token: string) {
    this.ws = new WebSocket(`ws://localhost:8080/api/v1/ws/chat?token=${token}`)

    this.ws.onopen = () => {
      console.log('WebSocket connected')
      this.startHeartbeat()
    }

    this.ws.onmessage = (event) => {
      const message = JSON.parse(event.data)
      // è§¦å‘æ¶ˆæ¯æ¥æ”¶äº‹ä»¶
      eventBus.emit('chat:message', message)
    }

    this.ws.onclose = () => {
      console.log('WebSocket disconnected')
      this.reconnect()
    }
  }

  send(message: any) {
    if (this.ws?.readyState === WebSocket.OPEN) {
      this.ws.send(JSON.stringify(message))
    }
  }

  private startHeartbeat() {
    this.heartbeatTimer = setInterval(() => {
      this.send({ type: 'ping' })
    }, 30000)
  }

  private reconnect() {
    this.reconnectTimer = setTimeout(() => {
      this.connect(localStorage.getItem('token')!)
    }, 5000)
  }
}
```

**UIç»„ä»¶ç»“æ„**ï¼š
```
views/chat/
  â”œâ”€â”€ ChatView.vue              # èŠå¤©ä¸»é¡µ
  â”œâ”€â”€ SessionList.vue           # ä¼šè¯åˆ—è¡¨
  â”œâ”€â”€ ChatWindow.vue            # èŠå¤©çª—å£
  â””â”€â”€ MessageItem.vue           # å•æ¡æ¶ˆæ¯

components/chat/
  â”œâ”€â”€ ChatButton.vue            # å‘èµ·èŠå¤©æŒ‰é’®
  â”œâ”€â”€ UnreadBadge.vue          # æœªè¯»æ¶ˆæ¯å¾½ç« 
  â””â”€â”€ MessageInput.vue          # æ¶ˆæ¯è¾“å…¥æ¡†
```

---

#### 1.5 çƒ­é—¨æ¦œå•ï¼ˆ2å¤©ï¼‰â­â­

**ç›®æ ‡**ï¼šé€šè¿‡æ•°æ®é©±åŠ¨å†…å®¹å‘ç°

**åŠŸèƒ½æ¸…å•**ï¼š
- [ ] é¦–é¡µä¾§è¾¹æ çƒ­é—¨æ¦œå•æ¨¡å—
- [ ] çƒ­é—¨æ–‡ç« Top 10
- [ ] çƒ­é—¨ä½œè€…Top 10
- [ ] æ¯æ—¥/æ¯å‘¨/å…¨éƒ¨æ—¶é—´åˆ‡æ¢
- [ ] æ¦œå•æ•°æ®è‡ªåŠ¨åˆ·æ–°

**æŠ€æœ¯å®ç°**ï¼š
```typescript
// src/api/trending.ts
export const trendingAPI = {
  getArticles: (limit: number = 10) =>
    request.get('/trending/articles', { params: { limit } }),

  getUsers: (limit: number = 10) =>
    request.get('/trending/users', { params: { limit } }),

  refresh: () =>
    request.post('/trending/refresh')  // ç®¡ç†å‘˜ä¸“ç”¨
}
```

**UIè®¾è®¡**ï¼š
```vue
<!-- components/TrendingPanel.vue -->
<el-card class="trending-panel">
  <template #header>
    <div class="panel-header">
      <span>çƒ­é—¨æ¦œå•</span>
      <el-segmented v-model="activeTab" :options="tabs" />
    </div>
  </template>

  <el-tabs v-model="activeType">
    <el-tab-pane label="æ–‡ç« " name="articles">
      <TrendingArticles :data="trendingArticles" />
    </el-tab-pane>
    <el-tab-pane label="ä½œè€…" name="users">
      <TrendingUsers :data="trendingUsers" />
    </el-tab-pane>
  </el-tabs>
</el-card>
```

---

## ğŸ¨ é˜¶æ®µäºŒï¼šç”¨æˆ·ä½“éªŒæå‡ï¼ˆ2-3ä¸ªæœˆï¼‰

### 2.1 è¯„è®ºç³»ç»Ÿå¢å¼º

#### 2.1.1 ä¸¾æŠ¥åŠŸèƒ½ï¼ˆ3å¤©ï¼‰
```typescript
// ä¸¾æŠ¥è¯„è®º
export const reportComment = (commentId: number, reason: string) => {
  return request.post(`/comments/${commentId}/report`, { reason })
}

// ä¸¾æŠ¥ç±»å‹
enum ReportReason {
  SPAM = 'spam',           // åƒåœ¾å¹¿å‘Š
  ABUSE = 'abuse',         // è¾±éª‚æ”»å‡»
  VULGAR = 'vulgar',       // ä½ä¿—å†…å®¹
  ILLEGAL = 'illegal',     // è¿æ³•è¿è§„
  OTHER = 'other'          // å…¶ä»–åŸå› 
}
```

**UIç»„ä»¶**ï¼š
```vue
<!-- CommentItem.vue ä¸­æ·»åŠ  -->
<el-dropdown-item @click="showReportDialog">
  <el-icon><Warning /></el-icon>ä¸¾æŠ¥
</el-dropdown-item>

<!-- ReportDialog.vue -->
<el-dialog v-model="visible" title="ä¸¾æŠ¥è¯„è®º">
  <el-form>
    <el-form-item label="ä¸¾æŠ¥åŸå› ">
      <el-radio-group v-model="reason">
        <el-radio label="spam">åƒåœ¾å¹¿å‘Š</el-radio>
        <el-radio label="abuse">è¾±éª‚æ”»å‡»</el-radio>
        <el-radio label="vulgar">ä½ä¿—å†…å®¹</el-radio>
        <el-radio label="illegal">è¿æ³•è¿è§„</el-radio>
        <el-radio label="other">å…¶ä»–åŸå› </el-radio>
      </el-radio-group>
    </el-form-item>
    <el-form-item label="è¯¦ç»†è¯´æ˜">
      <el-input type="textarea" v-model="description" />
    </el-form-item>
  </el-form>
</el-dialog>
```

#### 2.1.2 UPä¸»åŠŸèƒ½ï¼ˆ2å¤©ï¼‰
- ä½œè€…è¿½è¯„ï¼ˆæ©™è‰²é«˜äº®æ˜¾ç¤ºï¼‰
- ç½®é¡¶è¯„è®ºï¼ˆæ˜¾ç¤ºåœ¨æœ€å‰ï¼‰
- ç²¾é€‰è¯„è®ºï¼ˆåŠ ç²¾æ ‡è¯†ï¼‰

```typescript
// src/api/comment-author.ts
export const commentAuthorAPI = {
  addReply: (commentId: number, content: string) =>
    request.post(`/comments/${commentId}/author-reply`, { content }),

  pin: (commentId: number) =>
    request.post(`/comments/${commentId}/pin`),

  unpin: (commentId: number) =>
    request.delete(`/comments/${commentId}/pin`),

  feature: (commentId: number) =>
    request.post(`/comments/${commentId}/feature`),

  unfeature: (commentId: number) =>
    request.delete(`/comments/${commentId}/feature`)
}
```

---

### 2.2 å†…å®¹ç®¡ç†åå°

#### 2.2.1 ç®¡ç†å‘˜ç•Œé¢ï¼ˆ1å‘¨ï¼‰
- è¯„è®ºå®¡æ ¸é¢æ¿
- ä¸¾æŠ¥å¤„ç†ç³»ç»Ÿ
- æ•æ„Ÿè¯ç®¡ç†
- æ‰¹é‡æ“ä½œå·¥å…·

```vue
<!-- views/admin/ContentModeration.vue -->
<template>
  <div class="admin-panel">
    <el-tabs v-model="activeTab">
      <el-tab-pane label="å¾…å®¡ä¸¾æŠ¥" name="reports">
        <ReportList :reports="pendingReports" @handle="handleReport" />
      </el-tab-pane>

      <el-tab-pane label="è¯„è®ºç®¡ç†" name="comments">
        <CommentManagement />
      </el-tab-pane>

      <el-tab-pane label="æ•æ„Ÿè¯" name="sensitive">
        <SensitiveWordManager />
      </el-tab-pane>
    </el-tabs>
  </div>
</template>
```

---

### 2.3 æ‹‰é»‘ä¸éšç§ä¿æŠ¤ï¼ˆ2å¤©ï¼‰

**åŠŸèƒ½æ¸…å•**ï¼š
- [ ] æ‹‰é»‘ç”¨æˆ·åŠŸèƒ½
- [ ] é»‘åå•ç®¡ç†é¡µé¢
- [ ] è¢«æ‹‰é»‘ç”¨æˆ·æ— æ³•è¯„è®ºã€ç§ä¿¡
- [ ] å±è”½å¯¹æ–¹åŠ¨æ€

```typescript
// src/api/block.ts
export const blockAPI = {
  block: (userId: string) =>
    request.post(`/user/${userId}/block`),

  unblock: (userId: string) =>
    request.delete(`/user/${userId}/block`),

  getList: () =>
    request.get('/user/blocked')
}
```

---

### 2.4 é«˜çº§æœç´¢ï¼ˆ3å¤©ï¼‰

**åŠŸèƒ½å¢å¼º**ï¼š
- æœç´¢å†å²è®°å½•
- çƒ­é—¨æœç´¢è¯
- æœç´¢å»ºè®®ï¼ˆè‡ªåŠ¨è¡¥å…¨ï¼‰
- é«˜çº§ç­›é€‰ï¼ˆæ—¶é—´ã€åˆ†ç±»ã€æ ‡ç­¾ï¼‰
- æœç´¢ç»“æœæ’åºï¼ˆç›¸å…³åº¦/æ—¶é—´/çƒ­åº¦ï¼‰

```vue
<!-- components/AdvancedSearch.vue -->
<template>
  <div class="search-wrapper">
    <el-autocomplete
      v-model="keyword"
      :fetch-suggestions="fetchSuggestions"
      @select="handleSelect"
    >
      <template #prefix>
        <el-icon><Search /></el-icon>
      </template>
    </el-autocomplete>

    <el-dropdown class="filter-dropdown">
      <el-button>ç­›é€‰<el-icon><ArrowDown /></el-icon></el-button>
      <template #dropdown>
        <el-dropdown-menu>
          <el-dropdown-item>æŒ‰æ—¶é—´</el-dropdown-item>
          <el-dropdown-item>æŒ‰çƒ­åº¦</el-dropdown-item>
          <el-dropdown-item>æŒ‰ç›¸å…³åº¦</el-dropdown-item>
        </el-dropdown-menu>
      </template>
    </el-dropdown>
  </div>
</template>
```

---

## ğŸ¢ é˜¶æ®µä¸‰ï¼šä¼ä¸šçº§ç‰¹æ€§ï¼ˆæŒç»­ä¼˜åŒ–ï¼‰

### 3.1 æ€§èƒ½ä¼˜åŒ–

#### 3.1.1 è™šæ‹Ÿæ»šåŠ¨
```typescript
// æ–‡ç« åˆ—è¡¨ã€è¯„è®ºåˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
import { useVirtualList } from '@vueuse/core'

const { list, containerProps, wrapperProps } = useVirtualList(
  articles,
  { itemHeight: 200 }
)
```

#### 3.1.2 å›¾ç‰‡æ‡’åŠ è½½
```vue
<el-image
  :src="article.coverImage"
  lazy
  :scroll-container="scrollContainer"
/>
```

#### 3.1.3 è·¯ç”±æ‡’åŠ è½½
```typescript
const routes = [
  {
    path: '/article/:id',
    component: () => import('@/views/article/ArticleDetail.vue')
  }
]
```

---

### 3.2 çŠ¶æ€ç®¡ç†ä¼˜åŒ–

#### 3.2.1 Pinia Store æ¨¡å—åŒ–
```
src/stores/
â”œâ”€â”€ user.ts          # ç”¨æˆ·çŠ¶æ€
â”œâ”€â”€ article.ts       # æ–‡ç« çŠ¶æ€
â”œâ”€â”€ comment.ts       # è¯„è®ºçŠ¶æ€
â”œâ”€â”€ notification.ts  # é€šçŸ¥çŠ¶æ€
â”œâ”€â”€ chat.ts          # èŠå¤©çŠ¶æ€
â””â”€â”€ app.ts           # å…¨å±€åº”ç”¨çŠ¶æ€
```

#### 3.2.2 æŒä¹…åŒ–å­˜å‚¨
```typescript
import { createPinia } from 'pinia'
import piniaPluginPersistedstate from 'pinia-plugin-persistedstate'

const pinia = createPinia()
pinia.use(piniaPluginPersistedstate)

export const useUserStore = defineStore('user', {
  state: () => ({
    userInfo: null
  }),
  persist: {
    key: 'astronomer-user',
    storage: localStorage,
    paths: ['userInfo']  // åªæŒä¹…åŒ–userInfo
  }
})
```

---

### 3.3 é”™è¯¯ç›‘æ§ä¸åŸ‹ç‚¹

#### 3.3.1 Sentry é›†æˆ
```typescript
import * as Sentry from '@sentry/vue'

Sentry.init({
  app,
  dsn: 'YOUR_SENTRY_DSN',
  integrations: [
    new Sentry.BrowserTracing({
      routingInstrumentation: Sentry.vueRouterInstrumentation(router)
    }),
    new Sentry.Replay()
  ],
  tracesSampleRate: 1.0,
  replaysSessionSampleRate: 0.1,
  replaysOnErrorSampleRate: 1.0
})
```

#### 3.3.2 ç”¨æˆ·è¡Œä¸ºåŸ‹ç‚¹
```typescript
// src/utils/analytics.ts
export const track = (event: string, properties?: any) => {
  // å‘é€åˆ°åˆ†æå¹³å°
  console.log('Track:', event, properties)

  // å¯ä»¥é›†æˆGoogle Analyticsã€ç™¾åº¦ç»Ÿè®¡ç­‰
}

// ä½¿ç”¨
track('article_view', { articleId: 123 })
track('comment_post', { articleId: 123, commentLength: 50 })
```

---

### 3.4 æµ‹è¯•è¦†ç›–

#### 3.4.1 å•å…ƒæµ‹è¯•ï¼ˆVitestï¼‰
```typescript
// tests/components/ArticleCard.test.ts
import { describe, it, expect } from 'vitest'
import { mount } from '@vue/test-utils'
import ArticleCard from '@/components/ArticleCard.vue'

describe('ArticleCard', () => {
  it('renders article title', () => {
    const wrapper = mount(ArticleCard, {
      props: {
        article: {
          id: 1,
          title: 'Test Article',
          summary: 'Summary'
        }
      }
    })
    expect(wrapper.text()).toContain('Test Article')
  })
})
```

#### 3.4.2 E2Eæµ‹è¯•ï¼ˆPlaywrightï¼‰
```typescript
// tests/e2e/article-flow.spec.ts
import { test, expect } from '@playwright/test'

test('ç”¨æˆ·å¯ä»¥åˆ›å»ºæ–‡ç« ', async ({ page }) => {
  await page.goto('/')
  await page.click('text=å†™æ–‡ç« ')
  await page.fill('[name="title"]', 'My Test Article')
  await page.fill('[name="content"]', 'Content here')
  await page.click('text=å‘å¸ƒ')

  await expect(page).toHaveURL(/\/article\/\d+/)
})
```

---

### 3.5 å›½é™…åŒ–æ”¯æŒ

```typescript
// src/i18n/index.ts
import { createI18n } from 'vue-i18n'

const messages = {
  zh: {
    nav: {
      home: 'é¦–é¡µ',
      articles: 'æ–‡ç« ',
      topics: 'è¯é¢˜'
    }
  },
  en: {
    nav: {
      home: 'Home',
      articles: 'Articles',
      topics: 'Topics'
    }
  }
}

export const i18n = createI18n({
  legacy: false,
  locale: 'zh',
  messages
})
```

---

### 3.6 PWAæ”¯æŒ

```typescript
// vite.config.ts
import { VitePWA } from 'vite-plugin-pwa'

export default defineConfig({
  plugins: [
    VitePWA({
      registerType: 'autoUpdate',
      manifest: {
        name: 'Astronomer',
        short_name: 'Astronomer',
        description: 'ä¼ä¸šçº§å†…å®¹ç¤¾åŒºå¹³å°',
        theme_color: '#ffffff',
        icons: [
          {
            src: 'pwa-192x192.png',
            sizes: '192x192',
            type: 'image/png'
          },
          {
            src: 'pwa-512x512.png',
            sizes: '512x512',
            type: 'image/png'
          }
        ]
      }
    })
  ]
})
```

---

## ğŸ“Š ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®æ–½è®¡åˆ’ä¸é‡Œç¨‹ç¢‘

### Sprint 1ï¼ˆç¬¬1-2å‘¨ï¼‰ï¼šæ ¸å¿ƒè¡¥å…¨
- âœ… é€šçŸ¥ç³»ç»Ÿï¼ˆ5å¤©ï¼‰
- âœ… æ”¶è—åŠŸèƒ½ï¼ˆ2å¤©ï¼‰
- âœ… å¥½å‹ç³»ç»Ÿï¼ˆ2å¤©ï¼‰

**éªŒæ”¶æ ‡å‡†**ï¼š
- ç”¨æˆ·å¯ä»¥æ”¶åˆ°ç‚¹èµã€è¯„è®ºã€å…³æ³¨é€šçŸ¥
- ç”¨æˆ·å¯ä»¥æ”¶è—å’ŒæŸ¥çœ‹æ”¶è—çš„æ–‡ç« 
- ç”¨æˆ·Profileæ˜¾ç¤ºå¥½å‹æ•°é‡å’ŒçŠ¶æ€

---

### Sprint 2ï¼ˆç¬¬3-4å‘¨ï¼‰ï¼šç¤¾äº¤æ·±åŒ–
- âœ… ç§ä¿¡èŠå¤©ç³»ç»Ÿï¼ˆ7å¤©ï¼‰
- âœ… æ‹‰é»‘åŠŸèƒ½ï¼ˆ2å¤©ï¼‰

**éªŒæ”¶æ ‡å‡†**ï¼š
- å¥½å‹é—´å¯ä»¥å®æ—¶èŠå¤©
- WebSocketè¿æ¥ç¨³å®š
- å¯ä»¥æ‹‰é»‘éªšæ‰°ç”¨æˆ·

---

### Sprint 3ï¼ˆç¬¬5-6å‘¨ï¼‰ï¼šå†…å®¹è¿è¥
- âœ… çƒ­é—¨æ¦œå•ï¼ˆ2å¤©ï¼‰
- âœ… è¯„è®ºä¸¾æŠ¥åŠŸèƒ½ï¼ˆ3å¤©ï¼‰
- âœ… UPä¸»è¯„è®ºåŠŸèƒ½ï¼ˆ2å¤©ï¼‰

**éªŒæ”¶æ ‡å‡†**ï¼š
- é¦–é¡µæ˜¾ç¤ºçƒ­é—¨æ–‡ç« å’Œä½œè€…
- ç”¨æˆ·å¯ä»¥ä¸¾æŠ¥ä¸è‰¯è¯„è®º
- ä½œè€…å¯ä»¥ç½®é¡¶å’Œç²¾é€‰è¯„è®º

---

### Sprint 4ï¼ˆç¬¬7-8å‘¨ï¼‰ï¼šç®¡ç†å·¥å…·
- âœ… ç®¡ç†å‘˜åå°ï¼ˆ7å¤©ï¼‰
- âœ… æ‰¹é‡æ“ä½œå·¥å…·ï¼ˆ2å¤©ï¼‰

**éªŒæ”¶æ ‡å‡†**ï¼š
- ç®¡ç†å‘˜å¯ä»¥å®¡æ ¸ä¸¾æŠ¥
- å¯ä»¥æ‰¹é‡ç®¡ç†è¯„è®º
- æ•æ„Ÿè¯è¿‡æ»¤ç”Ÿæ•ˆ

---

### Sprint 5-6ï¼ˆç¬¬9-12å‘¨ï¼‰ï¼šä½“éªŒä¼˜åŒ–
- âœ… æ€§èƒ½ä¼˜åŒ–ï¼ˆè™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ï¼‰
- âœ… æœç´¢å¢å¼º
- âœ… é”™è¯¯ç›‘æ§
- âœ… æµ‹è¯•è¦†ç›–

---

## ğŸ¯ ç¬¬å››éƒ¨åˆ†ï¼šæŠ€æœ¯æ¶æ„å»ºè®®

### 4.1 é¡¹ç›®ç»“æ„é‡ç»„

```
astronomer-frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                    # APIæ¥å£å±‚
â”‚   â”‚   â”œâ”€â”€ modules/           # æŒ‰æ¨¡å—åˆ†ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ article.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ comment.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ notification.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.ts
â”‚   â”‚   â”‚   â””â”€â”€ admin.ts
â”‚   â”‚   â”œâ”€â”€ request.ts         # Axioså®ä¾‹
â”‚   â”‚   â””â”€â”€ index.ts           # ç»Ÿä¸€å¯¼å‡º
â”‚   â”‚
â”‚   â”œâ”€â”€ components/            # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/           # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”‚   â”œâ”€â”€ Card/
â”‚   â”‚   â”‚   â””â”€â”€ Modal/
â”‚   â”‚   â”œâ”€â”€ business/         # ä¸šåŠ¡ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ArticleCard/
â”‚   â”‚   â”‚   â”œâ”€â”€ CommentItem/
â”‚   â”‚   â”‚   â”œâ”€â”€ UserAvatar/
â”‚   â”‚   â”‚   â””â”€â”€ NotificationItem/
â”‚   â”‚   â””â”€â”€ layout/           # å¸ƒå±€ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ Header/
â”‚   â”‚       â”œâ”€â”€ Sidebar/
â”‚   â”‚       â””â”€â”€ Footer/
â”‚   â”‚
â”‚   â”œâ”€â”€ views/                # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”œâ”€â”€ article/
â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ notification/
â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”‚
â”‚   â”œâ”€â”€ stores/               # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ article.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ notification.ts
â”‚   â”‚   â”‚   â””â”€â”€ chat.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ router/               # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”‚   â”œâ”€â”€ article.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â”‚   â””â”€â”€ admin.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ composables/          # ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ useArticle.ts
â”‚   â”‚   â”œâ”€â”€ useComment.ts
â”‚   â”‚   â”œâ”€â”€ useNotification.ts
â”‚   â”‚   â””â”€â”€ useChat.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ format.ts
â”‚   â”‚   â”œâ”€â”€ validate.ts
â”‚   â”‚   â”œâ”€â”€ storage.ts
â”‚   â”‚   â”œâ”€â”€ websocket.ts
â”‚   â”‚   â””â”€â”€ analytics.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/                # TypeScriptç±»å‹
â”‚   â”‚   â”œâ”€â”€ api.d.ts
â”‚   â”‚   â”œâ”€â”€ models.d.ts
â”‚   â”‚   â””â”€â”€ components.d.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ styles/               # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ variables.scss
â”‚   â”‚   â”œâ”€â”€ mixins.scss
â”‚   â”‚   â”œâ”€â”€ reset.scss
â”‚   â”‚   â””â”€â”€ global.scss
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/               # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ icons/
â”‚   â”‚   â””â”€â”€ fonts/
â”‚   â”‚
â”‚   â””â”€â”€ plugins/              # æ’ä»¶é…ç½®
â”‚       â”œâ”€â”€ element-plus.ts
â”‚       â”œâ”€â”€ i18n.ts
â”‚       â””â”€â”€ sentry.ts
â”‚
â”œâ”€â”€ tests/                    # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ e2e/
â”‚   â””â”€â”€ fixtures/
â”‚
â”œâ”€â”€ public/                   # å…¬å…±èµ„æº
â”œâ”€â”€ .env.development          # å¼€å‘ç¯å¢ƒå˜é‡
â”œâ”€â”€ .env.production           # ç”Ÿäº§ç¯å¢ƒå˜é‡
â””â”€â”€ vite.config.ts           # Viteé…ç½®
```

---

### 4.2 ä»£ç è§„èŒƒ

#### 4.2.1 ESLint + Prettier
```json
// .eslintrc.js
{
  "extends": [
    "plugin:vue/vue3-recommended",
    "@vue/typescript/recommended",
    "prettier"
  ],
  "rules": {
    "vue/multi-word-component-names": "off",
    "@typescript-eslint/no-explicit-any": "warn"
  }
}
```

#### 4.2.2 Git Hooksï¼ˆHuskyï¼‰
```json
// package.json
{
  "lint-staged": {
    "*.{js,ts,vue}": [
      "eslint --fix",
      "prettier --write"
    ]
  }
}
```

#### 4.2.3 Commitè§„èŒƒï¼ˆCommitlintï¼‰
```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ–‡æ¡£æ›´æ–°
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: é‡æ„
perf: æ€§èƒ½ä¼˜åŒ–
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·ç›¸å…³
```

---

### 4.3 ç»„ä»¶å¼€å‘è§„èŒƒ

#### 4.3.1 ç»„ä»¶å‘½å
```
- å¤šè¯ç»„åˆï¼šArticleCard, UserProfile
- åŸºç¡€ç»„ä»¶å‰ç¼€ï¼šBaseButton, BaseInput
- å•ä¾‹ç»„ä»¶å‰ç¼€ï¼šTheHeader, TheSidebar
- ç´§å¯†è€¦åˆç»„ä»¶ï¼šTodoList, TodoListItem
```

#### 4.3.2 Propså®šä¹‰
```typescript
// ä½¿ç”¨TypeScriptå®šä¹‰Props
interface Props {
  articleId: number
  showComments?: boolean  // å¯é€‰prop
  maxComments?: number    // å¸¦é»˜è®¤å€¼
}

const props = withDefaults(defineProps<Props>(), {
  showComments: true,
  maxComments: 10
})
```

#### 4.3.3 Emitäº‹ä»¶
```typescript
// å®šä¹‰Emits
interface Emits {
  (e: 'update:modelValue', value: string): void
  (e: 'submit', data: FormData): void
}

const emit = defineEmits<Emits>()
```

---

### 4.4 æ€§èƒ½ç›‘æ§æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | æµ‹é‡å·¥å…· |
|------|--------|---------|
| FCPï¼ˆé¦–æ¬¡å†…å®¹ç»˜åˆ¶ï¼‰ | < 1.8s | Lighthouse |
| LCPï¼ˆæœ€å¤§å†…å®¹ç»˜åˆ¶ï¼‰ | < 2.5s | Lighthouse |
| TTIï¼ˆå¯äº¤äº’æ—¶é—´ï¼‰ | < 3.8s | Lighthouse |
| CLSï¼ˆç´¯è®¡å¸ƒå±€åç§»ï¼‰ | < 0.1 | Lighthouse |
| é¦–å±åŠ è½½ | < 2s | Performance API |
| APIå“åº”æ—¶é—´ | < 200ms | Axiosæ‹¦æˆªå™¨ |
| Bundleå¤§å° | < 500KB | Viteåˆ†æ |

---

## ğŸ“ˆ ç¬¬äº”éƒ¨åˆ†ï¼šé¢„æœŸæ”¶ç›Š

### 5.1 ç”¨æˆ·ä½“éªŒæå‡
- âœ… **+50% ç”¨æˆ·ç•™å­˜ç‡**ï¼šé€šè¿‡é€šçŸ¥ç³»ç»ŸåŠæ—¶åé¦ˆ
- âœ… **+30% äº’åŠ¨ç‡**ï¼šç§ä¿¡å’Œæ”¶è—åŠŸèƒ½ä¿ƒè¿›æ·±åº¦äº¤äº’
- âœ… **+40% å†…å®¹æ¶ˆè´¹**ï¼šçƒ­é—¨æ¦œå•å¼•å¯¼å†…å®¹å‘ç°
- âœ… **-60% ç”¨æˆ·æµå¤±**ï¼šå®Œæ•´çš„ç¤¾äº¤é—­ç¯

### 5.2 å¹³å°å¥åº·åº¦
- âœ… **å†…å®¹å®‰å…¨**ï¼šä¸¾æŠ¥ã€å®¡æ ¸ã€æ•æ„Ÿè¯ç³»ç»Ÿ
- âœ… **ç¤¾åŒºæ°›å›´**ï¼šUPä¸»äº’åŠ¨ã€ç²¾é€‰è¯„è®º
- âœ… **ç”¨æˆ·ä¿æŠ¤**ï¼šæ‹‰é»‘åŠŸèƒ½ã€éšç§è®¾ç½®

### 5.3 è¿è¥èƒ½åŠ›
- âœ… **æ•°æ®é©±åŠ¨**ï¼šæ¦œå•ç®—æ³•ã€æ¨èç³»ç»Ÿ
- âœ… **å†…å®¹æ²»ç†**ï¼šç®¡ç†åå°ã€æ‰¹é‡å·¥å…·
- âœ… **ç”¨æˆ·å¢é•¿**ï¼šç¤¾äº¤è£‚å˜ã€å†…å®¹æ²‰æ·€

---

## ğŸš¨ ç¬¬å…­éƒ¨åˆ†ï¼šé£é™©ä¸æŒ‘æˆ˜

### 6.1 æŠ€æœ¯é£é™©

| é£é™© | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|---------|
| WebSocketè¿æ¥ä¸ç¨³å®š | ç§ä¿¡åŠŸèƒ½å¼‚å¸¸ | è‡ªåŠ¨é‡è¿ã€å¿ƒè·³ä¿æ´»ã€é™çº§åˆ°è½®è¯¢ |
| çŠ¶æ€ç®¡ç†æ··ä¹± | æ•°æ®ä¸ä¸€è‡´ | ä¸¥æ ¼çš„Storeè®¾è®¡ã€å•ä¸€æ•°æ®æº |
| æ€§èƒ½ç“¶é¢ˆ | ç”¨æˆ·ä½“éªŒå·® | è™šæ‹Ÿæ»šåŠ¨ã€æ‡’åŠ è½½ã€CDNåŠ é€Ÿ |
| APIå˜æ›´ | å‰ç«¯æŠ¥é”™ | ç‰ˆæœ¬å·ç®¡ç†ã€æ¥å£æ–‡æ¡£åŒæ­¥ |

### 6.2 ä¸šåŠ¡é£é™©

| é£é™© | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|---------|
| ç”¨æˆ·éšç§æ³„éœ² | æ³•å¾‹é£é™© | åŠ å¯†å­˜å‚¨ã€æƒé™æ§åˆ¶ã€å®¡è®¡æ—¥å¿— |
| åƒåœ¾å†…å®¹æ³›æ»¥ | ç¤¾åŒºè´¨é‡ä¸‹é™ | æ•æ„Ÿè¯è¿‡æ»¤ã€ä¸¾æŠ¥ç³»ç»Ÿã€äººå·¥å®¡æ ¸ |
| ç”¨æˆ·éªšæ‰° | ç”¨æˆ·æµå¤± | æ‹‰é»‘åŠŸèƒ½ã€ä¸¾æŠ¥å¤„ç†ã€å¥½å‹éªŒè¯ |

---

## âœ… ç¬¬ä¸ƒéƒ¨åˆ†ï¼šéªŒæ”¶æ¸…å•

### æ ¸å¿ƒåŠŸèƒ½éªŒæ”¶

- [ ] **é€šçŸ¥ç³»ç»Ÿ**
  - [ ] æ”¶åˆ°ç‚¹èµé€šçŸ¥
  - [ ] æ”¶åˆ°è¯„è®ºé€šçŸ¥
  - [ ] æ”¶åˆ°å…³æ³¨é€šçŸ¥
  - [ ] æœªè¯»æ•°é‡å‡†ç¡®
  - [ ] ä¸€é”®å·²è¯»åŠŸèƒ½æ­£å¸¸

- [ ] **ç§ä¿¡èŠå¤©**
  - [ ] å¯ä»¥å‘é€æ¶ˆæ¯
  - [ ] å®æ—¶æ¥æ”¶æ¶ˆæ¯
  - [ ] æ¶ˆæ¯å·²è¯»çŠ¶æ€åŒæ­¥
  - [ ] ä¼šè¯åˆ—è¡¨æ­£å¸¸
  - [ ] WebSocketè‡ªåŠ¨é‡è¿

- [ ] **æ”¶è—åŠŸèƒ½**
  - [ ] å¯ä»¥æ”¶è—æ–‡ç« 
  - [ ] å¯ä»¥å–æ¶ˆæ”¶è—
  - [ ] æ”¶è—åˆ—è¡¨å±•ç¤ºæ­£å¸¸
  - [ ] æ”¶è—æ•°é‡å‡†ç¡®

- [ ] **çƒ­é—¨æ¦œå•**
  - [ ] æ¦œå•æ•°æ®å‡†ç¡®
  - [ ] å®šæ—¶åˆ·æ–°æ­£å¸¸
  - [ ] æ¦œå•å¯åˆ‡æ¢

- [ ] **è¯„è®ºå¢å¼º**
  - [ ] å¯ä»¥ä¸¾æŠ¥è¯„è®º
  - [ ] ä½œè€…å¯ä»¥ç½®é¡¶è¯„è®º
  - [ ] ä½œè€…å¯ä»¥ç²¾é€‰è¯„è®º
  - [ ] ç®¡ç†å‘˜å¯ä»¥å®¡æ ¸ä¸¾æŠ¥

---

## ğŸ“š ç¬¬å…«éƒ¨åˆ†ï¼šå‚è€ƒèµ„æº

### æŠ€æœ¯æ–‡æ¡£
- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/)
- [Pinia çŠ¶æ€ç®¡ç†](https://pinia.vuejs.org/zh/)
- [Element Plus ç»„ä»¶åº“](https://element-plus.org/zh-CN/)
- [VueUse å·¥å…·é›†](https://vueuse.org/)

### è®¾è®¡å‚è€ƒ
- [çŸ¥ä¹](https://www.zhihu.com/) - å†…å®¹ç¤¾åŒº
- [æ˜é‡‘](https://juejin.cn/) - æŠ€æœ¯ç¤¾åŒº
- [å³åˆ»](https://web.okjike.com/) - ç¤¾äº¤äº§å“
- [Bilibili](https://www.bilibili.com/) - è¯„è®ºç³»ç»Ÿ

### æœ€ä½³å®è·µ
- [Vue 3 ç»„ä»¶è®¾è®¡è§„èŒƒ](https://vuejs.org/style-guide/)
- [TypeScript æœ€ä½³å®è·µ](https://typescript.tv/best-practices/)
- [Web æ€§èƒ½ä¼˜åŒ–](https://web.dev/performance/)

---

## ğŸ¯ æ€»ç»“

æœ¬æ–¹æ¡ˆä¸º Astronomer-Gin é¡¹ç›®æä¾›äº†ä»**æ ¸å¿ƒåŠŸèƒ½è¡¥å…¨**åˆ°**ä¼ä¸šçº§ç‰¹æ€§**çš„å®Œæ•´å‡çº§è·¯å¾„ï¼š

### çŸ­æœŸç›®æ ‡ï¼ˆ1-2æœˆï¼‰
âœ… è¡¥å…¨é€šçŸ¥ã€æ”¶è—ã€å¥½å‹ã€ç§ä¿¡ç­‰æ ¸å¿ƒç¤¾äº¤åŠŸèƒ½
âœ… å®ç°çƒ­é—¨æ¦œå•å’Œå†…å®¹æ¨è
âœ… æå‡ç”¨æˆ·ç•™å­˜ç‡å’Œäº’åŠ¨ç‡

### ä¸­æœŸç›®æ ‡ï¼ˆ3-4æœˆï¼‰
âœ… å®Œå–„è¯„è®ºç³»ç»Ÿï¼ˆä¸¾æŠ¥ã€å®¡æ ¸ã€UPä¸»åŠŸèƒ½ï¼‰
âœ… æ­å»ºç®¡ç†åå°å’Œå†…å®¹æ²»ç†å·¥å…·
âœ… ä¼˜åŒ–æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ

### é•¿æœŸç›®æ ‡ï¼ˆæŒç»­ï¼‰
âœ… å»ºç«‹å®Œå–„çš„ç›‘æ§å’Œæµ‹è¯•ä½“ç³»
âœ… æ”¯æŒå›½é™…åŒ–å’ŒPWA
âœ… æ‰“é€ ä¼ä¸šçº§å‰ç«¯æ¶æ„

é€šè¿‡æœ¬æ–¹æ¡ˆçš„å®æ–½ï¼ŒAstronomer-Gin å°†ä»ä¸€ä¸ªåŸºç¡€çš„å†…å®¹å¹³å°å‡çº§ä¸º**åŠŸèƒ½å®Œæ•´ã€ä½“éªŒä¼˜ç§€ã€æ¶æ„æ¸…æ™°çš„ä¼ä¸šçº§ç¤¾åŒºäº§å“**ã€‚
